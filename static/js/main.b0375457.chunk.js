(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/preloader.1e862516.gif"},28:function(e,t,a){e.exports=a(41)},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(13),r=a.n(o),l=(a(33),a(34),a(8)),i=a(7),s=a(21),m=a(6),d=a(17),u=a(25),p=a.n(u),v=function(e){var t=e.img,a=e.title,o=e.description,r=e.likes,l=(e.id,"https://image.tmdb.org/t/p/w780".concat(t)),i=Object(n.useState)(!1),s=Object(m.a)(i,2),d=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"card shadow-lg rounded bg-dark text-white border-0"},c.a.createElement("img",{src:l,className:"card-img-top",alt:"movie_pic"}),c.a.createElement("div",{className:"card-img-overlay",id:"cardOverlay",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},d&&c.a.createElement("div",{className:"card-body bg-white m-0 ",id:"cardBody"},c.a.createElement("h5",{className:"card-title "},a),c.a.createElement("p",{className:"truncate "},o),c.a.createElement("p",{className:""},c.a.createElement("small",null,c.a.createElement("i",{className:"las la-thumbs-up",style:{fontSize:"20px"}}),r))))))};var f=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),a=Object(m.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(null),d=Object(m.a)(i,2),u=d[0],f=d[1],g=Object(n.useState)(!0),E=Object(m.a)(g,2),h=E[0],b=E[1],w=Object(n.useState)(0),y=Object(m.a)(w,2),O=y[0],_=y[1];Object(n.useEffect)((function(){N("https://api.themoviedb.org/3/discover/movie?api_key=571da57303345f5f0911e883540343d4&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1")}),[]),Object(n.useEffect)((function(){window.addEventListener("scroll",j)}),[]);var N=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),r([].concat(Object(s.a)(o),Object(s.a)(e.results))),f(u||e.results[0]),_(e.page)}),b(!1)).catch((function(e){return console.error("Error:",e)}))},j=function(){var t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,a=document.body,n=document.documentElement,c=Math.max(a.scrollHeight,a.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);t+window.pageYOffset>=c-1&&(console.log("clicked"),e.current.click())};return h?c.a.createElement("div",{id:"gifContainer",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"calc(100vh - 132px)"}},c.a.createElement("img",{src:p.a,id:"preloaderGif",alt:"preloader"})):c.a.createElement("div",null,c.a.createElement("div",{className:"card-columns"},o&&o.map((function(e,t){return c.a.createElement(l.b,{to:"/movie/".concat(e.id),key:t},c.a.createElement(v,{img:e.backdrop_path,movieId:e.id,title:e.original_title,description:e.overview,likes:e.vote_count}))}))),h&&c.a.createElement("div",null,"Loading..."),c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement("button",{className:"btn btn-danger loadMore",ref:e,onClick:function(){var e;b(!0),console.log("CurrentPage",O),e="https://api.themoviedb.org/3/discover/movie?api_key=571da57303345f5f0911e883540343d4&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1".concat(O+1),N(e)}},"Load More Movies")))};function g(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),o=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.match.params.movieId;fetch("https:/api.themoviedb.org/3/movie/".concat(t,"?api_key=571da57303345f5f0911e883540343d4&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("div",{className:"card mb-3",style:{border:"none",boxShadow:"0 0 8px 4px rgba(0,0,0,0.1)",zIndex:"2",borderRadius:"20px"}},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w780".concat(o.backdrop_path),className:"card-img ",alt:"...",style:{borderRadius:"20px"}})),c.a.createElement("div",{className:"col-md-8 "},c.a.createElement("div",{className:"card-body ml-4"},c.a.createElement("h5",{className:"card-title"},o.title),c.a.createElement("p",{className:"card-text"},o.overview),c.a.createElement("p",{className:"card-text"},c.a.createElement("small",{className:""},c.a.createElement("i",{className:"las la-thumbs-up",style:{fontSize:"20px"}}),o.vote_count)))))))}a(40);var E=function(){return c.a.createElement(l.a,null,c.a.createElement(i.c,null,c.a.createElement("main",{className:"mx-5"},c.a.createElement("h3",{className:"text-center my-3 "},"Movie List"),c.a.createElement(i.a,{exact:!0,path:"/",component:f}),c.a.createElement(i.a,{path:"/movie/:movieId",component:g}))))},h=a(12),b=a(27),w={movies:[]},y=Object(h.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES":return console.log("Debug",t.type,t.payload,e),Object(b.a)({},e,{movies:t.payload});default:return e}}),{},Object(h.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(d.a,{store:y},c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.b0375457.chunk.js.map